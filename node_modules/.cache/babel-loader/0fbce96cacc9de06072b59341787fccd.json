{"ast":null,"code":"var _jsxFileName = \"/Users/nilsonchapagain/Desktop/316SeparatedProject/CSE316Frontend/website/src/page/Live Trades.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from \"react\";\nimport NavBar from \"../components/NavBar\";\nimport ResultCard from \"../components/ResultCard\";\nimport { Paper, makeStyles, Grid, Typography, Box } from \"@material-ui/core\";\nimport useWebSocket from \"react-use-websocket\";\nimport Chart from \"react-apexcharts\";\nimport ApexCharts from \"apexcharts\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst styles = makeStyles(theme => ({\n  bodyContainer: {\n    height: \"80vh\",\n    width: \"95vw\",\n    backgroundColor: theme.palette.primary.main,\n    alignItems: \"inline\",\n    margin: \"0px 2%\",\n    display: \"flex\"\n  },\n  leftContainer: {\n    height: \"100%\",\n    width: \"80%\"\n  },\n  rightContainer: {\n    height: \"100%\",\n    width: \"30%\"\n  },\n  predictor: {\n    fontFamily: \"Inter\",\n    fontWeight: \"bold\",\n    fontSize: \"36px\"\n  },\n  secondary: {\n    backgroundColor: theme.palette.secondary.main,\n    marginRight: \"5%\"\n  }\n}));\n\nconst Live = () => {\n  _s();\n\n  const [transHistory, setTransHistory] = useState([]);\n  const [price, setCurrPrice] = useState(0);\n\n  const fetchBinProfile = async () => {\n    try {\n      var temp = await axios.get(\"/api/binProfile/\");\n      temp = temp.data.data;\n      console.log(temp);\n      setTransHistory(temp);\n    } catch (err) {\n      alert(err);\n    }\n  };\n\n  useEffect(() => {\n    var a = setInterval(async () => {\n      var temp = await axios.get(\"/api/candles/\");\n      temp = temp.data.data;\n      ApexCharts.exec(\"realtime\", \"updateSeries\", [{\n        data: temp\n      }]);\n    }, 5000);\n    fetchBinProfile();\n    var b = setInterval(() => {\n      fetchBinProfile();\n    }, 60000);\n    return () => {\n      clearInterval(a);\n      clearInterval(b);\n    };\n  }, []);\n  const [state, setState] = useState({\n    series: [{\n      data: [0, 0, 0, 0, 0]\n    }],\n    options: {\n      colors: [\"#ffffff\"],\n      chart: {\n        foreColor: \"#fff\",\n        id: \"realtime\",\n        height: 350,\n        type: \"line\",\n        animations: {\n          enabled: true,\n          easing: \"linear\",\n          dynamicAnimation: {\n            speed: 1000\n          }\n        },\n        toolbar: {\n          show: false\n        },\n        zoom: {\n          enabled: false\n        }\n      },\n      dataLabels: {\n        enabled: false\n      },\n      stroke: {\n        curve: \"smooth\"\n      },\n      title: {\n        text: \"5 Last Candles\",\n        align: \"left\",\n        style: {\n          color: \"#ffffff\"\n        }\n      },\n      markers: {\n        size: 0\n      },\n      legend: {\n        show: false\n      }\n    }\n  });\n  let intervalID;\n  /*useEffect(async () => {\n    intervalID = \n    return () => {\n      console.log(\"testing\");\n      clearInterval(intervalID);\n    };\n  });*/\n\n  const classes = styles();\n  const {\n    sendJsonMessage\n  } = useWebSocket(\"wss://as.binomo.com/\", {\n    onOpen: () => {\n      sendJsonMessage({\n        action: \"subscribe\",\n        rics: [\"Z-CRY/IDX\"]\n      });\n    },\n    shouldReconnect: () => true,\n    onMessage: e => {\n      e = JSON.parse(e.data);\n\n      if (\"assets\" === e.data[0].action) {\n        setCurrPrice(e.data[0].assets[0].rate);\n      }\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 0,\n      className: classes.bodyContainer,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        justify: \"flex-start\",\n        alignItems: \"center\",\n        direction: \"row\",\n        className: classes.leftContainer,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            display: \"flex\",\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              className: classes.predictor,\n              color: \"secondary\",\n              children: \"Live Trades\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          style: {\n            width: \"100%\",\n            height: \"88.5%\"\n          },\n          className: classes.secondary,\n          id: \"chart\",\n          children: /*#__PURE__*/_jsxDEV(Chart, {\n            options: state.options,\n            series: state.series,\n            type: \"line\",\n            width: \"100%\",\n            height: \"100%\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        direction: \"column\",\n        className: classes.rightContainer,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            display: \"flex\",\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              className: classes.predictor,\n              color: \"secondary\",\n              children: \"Result\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          style: {\n            width: \"100%\",\n            height: \"88.5%\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            display: \"flex\",\n            style: {\n              flexDirection: \"column\",\n              justifyContent: \"space-between\",\n              marginTop: \"2vh\",\n              height: \"100%\"\n            },\n            children: transHistory.map(el => /*#__PURE__*/_jsxDEV(ResultCard, {\n              amount: el.amount,\n              win: el.win,\n              trend: el.trend,\n              status: el.status\n            }, el.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Live, \"wibHBrlWk09WS4m34qw+mSnew+A=\", false, function () {\n  return [useWebSocket];\n});\n\n_c = Live;\nexport default Live;\n\nvar _c;\n\n$RefreshReg$(_c, \"Live\");","map":{"version":3,"sources":["/Users/nilsonchapagain/Desktop/316SeparatedProject/CSE316Frontend/website/src/page/Live Trades.js"],"names":["React","useState","useEffect","useRef","NavBar","ResultCard","Paper","makeStyles","Grid","Typography","Box","useWebSocket","Chart","ApexCharts","axios","styles","theme","bodyContainer","height","width","backgroundColor","palette","primary","main","alignItems","margin","display","leftContainer","rightContainer","predictor","fontFamily","fontWeight","fontSize","secondary","marginRight","Live","transHistory","setTransHistory","price","setCurrPrice","fetchBinProfile","temp","get","data","console","log","err","alert","a","setInterval","exec","b","clearInterval","state","setState","series","options","colors","chart","foreColor","id","type","animations","enabled","easing","dynamicAnimation","speed","toolbar","show","zoom","dataLabels","stroke","curve","title","text","align","style","color","markers","size","legend","intervalID","classes","sendJsonMessage","onOpen","action","rics","shouldReconnect","onMessage","e","JSON","parse","assets","rate","flexDirection","justifyContent","marginTop","map","el","amount","win","trend","status"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport NavBar from \"../components/NavBar\";\nimport ResultCard from \"../components/ResultCard\";\nimport { Paper, makeStyles, Grid, Typography, Box } from \"@material-ui/core\";\nimport useWebSocket from \"react-use-websocket\";\nimport Chart from \"react-apexcharts\";\nimport ApexCharts from \"apexcharts\";\nimport axios from \"axios\";\n\nconst styles = makeStyles((theme) => ({\n  bodyContainer: {\n    height: \"80vh\",\n    width: \"95vw\",\n    backgroundColor: theme.palette.primary.main,\n    alignItems: \"inline\",\n\n    margin: \"0px 2%\",\n    display: \"flex\",\n  },\n  leftContainer: {\n    height: \"100%\",\n    width: \"80%\",\n  },\n  rightContainer: {\n    height: \"100%\",\n    width: \"30%\",\n  },\n  predictor: {\n    fontFamily: \"Inter\",\n    fontWeight: \"bold\",\n    fontSize: \"36px\",\n  },\n  secondary: {\n    backgroundColor: theme.palette.secondary.main,\n    marginRight: \"5%\",\n  },\n}));\n\nconst Live = () => {\n  const [transHistory, setTransHistory] = useState([]);\n  const [price, setCurrPrice] = useState(0);\n  const fetchBinProfile = async () => {\n    try {\n      var temp = await axios.get(\"/api/binProfile/\");\n      temp = temp.data.data;\n      console.log(temp);\n      setTransHistory(temp);\n    } catch (err) {\n      alert(err);\n    }\n  };\n  useEffect(() => {\n    var a = setInterval(async () => {\n      var temp = await axios.get(\"/api/candles/\");\n      temp = temp.data.data;\n\n      ApexCharts.exec(\"realtime\", \"updateSeries\", [\n        {\n          data: temp,\n        },\n      ]);\n    }, 5000);\n    fetchBinProfile();\n    var b = setInterval(() => {\n      fetchBinProfile();\n    }, 60000);\n    return () => {\n      clearInterval(a);\n      clearInterval(b);\n    };\n  }, []);\n  const [state, setState] = useState({\n    series: [\n      {\n        data: [0, 0, 0, 0, 0],\n      },\n    ],\n    options: {\n      colors: [\"#ffffff\"],\n      chart: {\n        foreColor: \"#fff\",\n        id: \"realtime\",\n        height: 350,\n        type: \"line\",\n        animations: {\n          enabled: true,\n          easing: \"linear\",\n          dynamicAnimation: {\n            speed: 1000,\n          },\n        },\n        toolbar: {\n          show: false,\n        },\n        zoom: {\n          enabled: false,\n        },\n      },\n      dataLabels: {\n        enabled: false,\n      },\n      stroke: {\n        curve: \"smooth\",\n      },\n      title: {\n        text: \"5 Last Candles\",\n        align: \"left\",\n        style: {\n          color: \"#ffffff\",\n        },\n      },\n      markers: {\n        size: 0,\n      },\n\n      legend: {\n        show: false,\n      },\n    },\n  });\n  let intervalID;\n  /*useEffect(async () => {\n    intervalID = \n    return () => {\n      console.log(\"testing\");\n      clearInterval(intervalID);\n    };\n  });*/\n\n  const classes = styles();\n\n  const { sendJsonMessage } = useWebSocket(\"wss://as.binomo.com/\", {\n    onOpen: () => {\n      sendJsonMessage({ action: \"subscribe\", rics: [\"Z-CRY/IDX\"] });\n    },\n    shouldReconnect: () => true,\n    onMessage: (e) => {\n      e = JSON.parse(e.data);\n      if (\"assets\" === e.data[0].action) {\n        setCurrPrice(e.data[0].assets[0].rate);\n      }\n    },\n  });\n\n  return (\n    <>\n      <NavBar />\n      <Paper elevation={0} className={classes.bodyContainer}>\n        <Grid\n          container\n          justify=\"flex-start\"\n          alignItems=\"center\"\n          direction=\"row\"\n          className={classes.leftContainer}\n        >\n          <Grid item>\n            <Box display=\"flex\">\n              <Typography className={classes.predictor} color=\"secondary\">\n                Live Trades\n              </Typography>\n            </Box>\n          </Grid>\n          <Grid\n            item\n            style={{\n              width: \"100%\",\n              height: \"88.5%\",\n            }}\n            className={classes.secondary}\n            id=\"chart\"\n          >\n            <Chart\n              options={state.options}\n              series={state.series}\n              type=\"line\"\n              width=\"100%\"\n              height=\"100%\"\n            />\n          </Grid>\n        </Grid>\n        <Grid container direction=\"column\" className={classes.rightContainer}>\n          <Grid item>\n            <Box display=\"flex\">\n              <Typography className={classes.predictor} color=\"secondary\">\n                Result\n              </Typography>\n            </Box>\n          </Grid>\n          <Grid\n            item\n            style={{\n              width: \"100%\",\n              height: \"88.5%\",\n            }}\n          >\n            <Box\n              display=\"flex\"\n              style={{\n                flexDirection: \"column\",\n                justifyContent: \"space-between\",\n                marginTop: \"2vh\",\n                height: \"100%\",\n              }}\n            >\n              {transHistory.map((el) => (\n                <ResultCard\n                  key={el.id}\n                  amount={el.amount}\n                  win={el.win}\n                  trend={el.trend}\n                  status={el.status}\n                />\n              ))}\n            </Box>\n          </Grid>\n        </Grid>\n      </Paper>\n    </>\n  );\n};\n\nexport default Live;\n"]},"metadata":{},"sourceType":"module"}